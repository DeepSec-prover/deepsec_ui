
Presentation
============

User interface for Deepsec. **Work in progress**.

Installation
============

The package manager [opam](https://opam.ocaml.org/doc/1.1/Quick_Install.html) is required.

```shell script
#Â Clone this repository
git clone https://github.com/DeepSec-prover/deepsec_ui.git
cd deepsec_ui

# Environment setup (if first time)
opam init
eval `opam env`

# Install given version of the compiler
opam switch create 4.06.1
eval `opam env`

# Install dependences
opam install eliom
```

Instructions
============

You can compile it and run _ocsigenserver_ on it by
```shell script
make test.byte
# or
make test.opt)
```
See below for other useful targets for make.

Makefile targets
----------------

Here's some help on how to work with this project:

 - Test your application by compiling it and running ocsigenserver locally  
     `make test.byte (or test.opt)`

 - Compile it only  
     `make all (or byte or opt)`

 - Deploy your project on your system  
     `sudo make install (or install.byte or install.opt)`

 - Run the server on the deployed project  
     `sudo make run.byte (or run.opt)`

   If _WWWUSER_ in the `Makefile.options` is you, you don't need the `sudo`. If Eliom isn't installed globally, however, you need to re-export some environment variables to make this work: `sudo PATH=$PATH OCAMLPATH=$OCAMLPATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH make run.byte/run.opt`

 - If you need a findlib package in your project, add it to the variables `SERVER_PACKAGES` and/or `CLIENT_PACKAGES`. The configuration file will be automatically updated.
   
Generated files
---------------

The following files in this directory have been generated by _eliom-distillery_:

 - __deepsec_ui.eliom__  
   This is your initial source file.

 - __static/__  
   The content of this folder is statically served. Contains CSS and statics resources.

 - __Makefile.options__  
   Build configuration here.

 - __deepsec_ui.conf.in__  
   This file is a template for the configuration file for ocsigenserver. You will rarely have to edit itself - it takes its variables from the _Makefile.options_. This way, the installation rules and the configuration files are synchronized with respect to the different folders.

 - __Makefile__  
   This contains all rules necessary to build, test, and run your Eliom application. You better don't touch it ;) See below for the relevant targets.

 - __local/__  
   This directory is the target of the temporary installation of your application, to test locally before doing a system-wide installation in /. Do not put anything manually here.

 - __README.md__  
   This file.
